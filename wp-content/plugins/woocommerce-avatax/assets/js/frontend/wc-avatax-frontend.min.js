"use strict";jQuery(function(i){var n=window.wc_avatax_frontend;i(document).on("change","form.woocommerce-checkout .country_select",function(){var a;if(i(this).is("#billing_country")){if(i("#ship-to-different-address-checkbox").is(":checked"))return;a=i('.wc_avatax_validate_address[data-address-type="billing"]')}else a=i('.wc_avatax_validate_address[data-address-type="shipping"]');-1<i.inArray(i(this).val(),n.address_validation_countries)?i(a).show():i(a).hide()}),i(document).on("change","form.woocommerce-checkout #ship-to-different-address-checkbox",function(){i(this).is(":checked")?i('.wc_avatax_validate_address[data-address-type="billing"]').hide():-1<i.inArray(i("#billing_country").val(),n.address_validation_countries)&&i('.wc_avatax_validate_address[data-address-type="billing"]').show()}),i("form.woocommerce-checkout .country_select").change(),i("form.woocommerce-checkout #ship-to-different-address-checkbox").change(),i(".wc_avatax_validate_address").on("click",function(a){a.preventDefault();var e,t,d,s,c,o,r=i("form.woocommerce-checkout"),a=(1!==r.data()["blockUI.isBlocked"]&&r.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a=i(this).data("address-type"),e=i("input#"+a+"_address_1").val(),t=i("input#"+a+"_address_2").val(),d=i("#"+a+"_city").val(),s=i("#"+a+"_state").val(),c=i("#"+a+"_country").val(),o=i("input#"+a+"_postcode").val(),{action:"wc_avatax_validate_customer_address",nonce:n.address_validation_nonce,type:a,address_1:e,address_2:t,city:d,state:s,country:c,postcode:o});i.ajax({type:"POST",url:n.ajax_url,data:a,dataType:"json",success:function(a){var e=!1;200===a.code?(i.each(a.address,function(a,e){i("#"+a).val(e).trigger("change")}),e='<div class="wc-avatax-address-validation-result wc-avatax-address-validation-success">'+n.i18n.address_validated+"</div>"):a.error&&(e='<div class="wc-avatax-address-validation-result wc-avatax-address-validation-error">'+a.error+"</div>"),e&&(i(".woocommerce-error, .woocommerce-message, .wc-avatax-address-validation-result").remove(),i(".wc_avatax_validate_address").css("margin-bottom","20px").after(e)),r.unblock(),i(document.body).trigger("update_checkout")}})})});